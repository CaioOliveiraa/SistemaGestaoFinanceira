<div class="reset-password-container" *ngIf="!errorMsg">
    <h2>Redefinir Senha</h2>

    <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="form-group">
            <label for="newPassword">Nova Senha</label>
            <input id="newPassword" type="password" formControlName="newPassword" />
            <div class="error" *ngIf="form.get('newPassword')?.touched && form.get('newPassword')?.invalid">
                <small *ngIf="form.get('newPassword')?.errors?.['required']">Informe a nova senha.</small>
                <small *ngIf="form.get('newPassword')?.errors?.['minlength']">
                    Senha deve ter no mínimo 6 caracteres.
                </small>
            </div>
        </div>

        <div class="form-group">
            <label for="confirmPassword">Confirme a Senha</label>
            <input id="confirmPassword" type="password" formControlName="confirmPassword" />
            <div class="error" *ngIf="form.errors?.['mismatch'] && form.get('confirmPassword')?.touched">
                <small>As senhas não coincidem.</small>
            </div>
        </div>

        <button type="submit" [disabled]="submitting || form.invalid">
            {{ submitting ? 'Redefinindo...' : 'Redefinir Senha' }}
        </button>
    </form>

    <p class="success" *ngIf="successMsg">{{ successMsg }}</p>
</div>

<div class="error-container" *ngIf="errorMsg">
    <p class="error">{{ errorMsg }}</p>
    <a routerLink="/auth/forgot-password">Voltar</a>
</div>